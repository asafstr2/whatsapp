{"ast":null,"code":"var _jsxFileName = \"C:\\\\web-dev\\\\whatsAppClone\\\\whatsappMern\\\\front\\\\src\\\\SideBar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport SideBarChat from \"./SideBarChat\";\nimport axios from \"./axios\";\nimport Pusher from \"pusher-js\";\nconst useStyles = makeStyles(theme => ({\n  sideBar: {\n    flexDirection: \"column\",\n    flex: \"0.35\",\n    overflow: \"auto\",\n    backgroundColor: \"white\"\n  },\n  search: {\n    display: \"flex\",\n    alignItems: \"center\",\n    backgroundColor: \"#f6f6f6\",\n    height: \"39px\",\n    padding: \"10px\"\n  },\n  searchContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    backgroundColor: \"White\",\n    flex: \"1\",\n    height: \"95%\",\n    borderRadius: \"20px\",\n    \"& input\": {\n      border: \"none\",\n      marginLeft: \"10px\"\n    },\n    \"& .MuiSvgIcon-root\": {\n      color: \"gray\",\n      padding: \"10px\"\n    }\n  },\n  sidebarHeader: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: \"20px\",\n    borderRight: \"1px solid lightgray\"\n  },\n  sidebarHeaderRight: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginLeft: \"auto\",\n    gap: \"10px\"\n  },\n  SideBarChat: {\n    background: \"white\",\n    flex: \"1\",\n    \"& :hover\": {\n      backgroundColor: \"#ebebeb\"\n    }\n  }\n}));\n\nfunction SideBar() {\n  const [rooms, setRooms] = useState([]);\n  useEffect(() => {\n    axios.get(`/rooms`).then(res => setRooms(res.data));\n  }, []);\n  useEffect(() => {\n    var pusher = new Pusher(\"899744c36189f508077b\", {\n      cluster: \"ap2\"\n    });\n    const channel = pusher.subscribe(\"rooms\");\n    channel.bind(\"inserted\", data => {\n      setRooms([...rooms, data]);\n    });\n    return () => {\n      channel.unsubscribe();\n      channel.unbind_all();\n    };\n  }, [rooms]);\n  const classes = useStyles();\n  const [search, setSearch] = useState(initialState);\n\n  let hundleSearch = e => {\n    setSearch(rooms.filter(({\n      name\n    }) => name.includes(e.target.value)));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sideBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sidebarHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sidebarHeaderRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DonutLargeIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ChatIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.searchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"search or start new chat\",\n    type: \"text\",\n    value: search,\n    onChange: hundleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.SideBarChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SideBarChat, {\n    addNewChat: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), rooms === null || rooms === void 0 ? void 0 : rooms.map(room => /*#__PURE__*/React.createElement(SideBarChat, {\n    key: room._id,\n    id: room._id,\n    name: room.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }))));\n}\n\nexport default SideBar;","map":{"version":3,"sources":["C:/web-dev/whatsAppClone/whatsappMern/front/src/SideBar.js"],"names":["React","useState","useEffect","makeStyles","Avatar","IconButton","DonutLargeIcon","ChatIcon","SearchOutlinedIcon","MoreVertIcon","SideBarChat","axios","Pusher","useStyles","theme","sideBar","flexDirection","flex","overflow","backgroundColor","search","display","alignItems","height","padding","searchContainer","borderRadius","border","marginLeft","color","sidebarHeader","justifyContent","borderRight","sidebarHeaderRight","gap","background","SideBar","rooms","setRooms","get","then","res","data","pusher","cluster","channel","subscribe","bind","unsubscribe","unbind_all","classes","setSearch","initialState","hundleSearch","e","filter","name","includes","target","value","avatar","map","room","_id"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport SideBarChat from \"./SideBarChat\";\r\nimport axios from \"./axios\"\r\nimport Pusher from \"pusher-js\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  sideBar: {\r\n    flexDirection: \"column\",\r\n    flex: \"0.35\",\r\n    overflow: \"auto\",\r\n    backgroundColor: \"white\",\r\n  },\r\n  search: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#f6f6f6\",\r\n    height: \"39px\",\r\n    padding: \"10px\",\r\n  },\r\n  searchContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"White\",\r\n    flex: \"1\",\r\n    height: \"95%\",\r\n    borderRadius: \"20px\",\r\n    \"& input\": {\r\n      border: \"none\",\r\n      marginLeft: \"10px\",\r\n    },\r\n    \"& .MuiSvgIcon-root\": {\r\n      color: \"gray\",\r\n      padding: \"10px\",\r\n    },\r\n  },\r\n  sidebarHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"20px\",\r\n    borderRight: \"1px solid lightgray\",\r\n  },\r\n  sidebarHeaderRight: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    marginLeft: \"auto\",\r\n    gap: \"10px\",\r\n  },\r\n  SideBarChat: {\r\n    background: \"white\",\r\n    flex: \"1\",\r\n    \"& :hover\": {\r\n      backgroundColor: \"#ebebeb\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction SideBar() {\r\n  const [rooms, setRooms] = useState([]);\r\n  useEffect(() => {\r\n    axios.get(`/rooms`).then((res) => setRooms(res.data));\r\n\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    var pusher = new Pusher(\"899744c36189f508077b\", {\r\n      cluster: \"ap2\",\r\n    });\r\n    const channel = pusher.subscribe(\"rooms\");\r\n    channel.bind(\"inserted\", (data) => {\r\n      setRooms([...rooms, data]);\r\n    });\r\n\r\n    return () => {\r\n      channel.unsubscribe();\r\n      channel.unbind_all();\r\n    };\r\n  }, [rooms]);\r\n\r\n\r\n\r\n  const classes = useStyles();\r\n  const [search, setSearch] = useState(initialState)\r\nlet hundleSearch=(e)=>{\r\n  setSearch( rooms.filter(({name})=> name.includes(e.target.value)))\r\n};\r\n\r\n  return (\r\n    <div className={classes.sideBar}>\r\n      <div className={classes.sidebarHeader}>\r\n        <Avatar className={classes.avatar} />\r\n        <div className={classes.sidebarHeaderRight}>\r\n          <IconButton size=\"small\">\r\n            <DonutLargeIcon />\r\n          </IconButton>\r\n          <IconButton size=\"small\">\r\n            <ChatIcon />\r\n          </IconButton>\r\n          <IconButton size=\"small\">\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className={classes.search}>\r\n        <div className={classes.searchContainer}>\r\n          <SearchOutlinedIcon />\r\n          <input placeholder=\"search or start new chat\" type=\"text\"  value={search} onChange={hundleSearch}/>\r\n        </div>\r\n      </div>\r\n      <div className={classes.SideBarChat}>\r\n        <SideBarChat addNewChat />\r\n        {rooms?.map(room=><SideBarChat key={room._id} id={room._id} name={room.name}/>)}\r\n        \r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBar;\r\n"]},"metadata":{},"sourceType":"module"}